.container
  .col-sm-9
    %h2 Results for: #{@quiz.title}
    %h3 Score: #{@exam.student_score} from #{@quiz.total_score} points
    %br
    - @exam.quiz.questions.each_with_index do |question, index|
      .panel.panel-info
        .panel-heading
          %span.pull-left= "#{index+1}. #{question.content}"
          %span.pull-right= pluralize(question.points, "point")
          .clearfix
        .panel-body
          %h4 Correct answers
          %ul.no-bullets
            - question.answers_for(@exam, :generated_answer_ids).each do |generated_answer|
              - if generated_answer.correct?
                %li= generated_answer.content
          %br
          %h4 Your answers
          %ul.no-bullets
            - if question.answers_for(@exam, :student_answer_ids).empty?
              %li No answers submitted.
            - else
              - question.answers_for(@exam, :student_answer_ids).each do |student_answer|
                %li{class: "student-#{'in' unless student_answer.correct?}correct-answer"}= student_answer.content
        .panel-footer
          - if question.yield_points?(@exam)
            %strong You earned #{pluralize(question.points, "point")}.
          - else
            %em One of the answers was wrong or missing.